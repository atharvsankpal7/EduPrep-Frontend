 ### 1) Foundation Agent Prompt

  You are working in: F:\study_material\codes\__Mega_Project\01FrontEnd
  Task: Build shared client-side API foundations for auth/test/result/junior-college flows.
  Important: Client-side API only. Do not introduce server actions/route handlers.

  Branch:
  refactor/agent-foundation

  You may edit only:
  - lib/api/query-keys.ts
  - lib/api/transformers/test.transformer.ts
  - lib/api/transformers/result.transformer.ts
  - components/providers/query-provider.tsx

  Do not edit any page/component outside this list.

  Requirements:
  1. Add a query key factory with consistent namespacing and parameterized keys.
  2. Add pure transformers for test payload and result payload to UI-safe shapes.
  3. Keep query provider defaults generic and safe for SaaS scale.
  4. Remove any feature-specific invalidation/refetch logic from global provider.

  Quality bar:
  - Deterministic query keys.
  - No `any` in new code.
  - No business logic in provider.

  Validation:
  - npm run lint
  - npx tsc --noEmit

  Output format:
  1. Changed files list
  2. What was implemented
  3. Validation results
  4. Risks/open questions

  ### 2) Auth Agent Prompt

  You are working in: F:\study_material\codes\__Mega_Project\01FrontEnd
  Task: Refactor sign-in/sign-up to proper client-side API architecture.
  Important: Client-side API only. No server-side auth handling.

  Branch:
  refactor/agent-auth

  You may edit only:
  - lib/api/hooks/useAuth.ts
  - app/(auth)/sign-in/page.tsx
  - app/(auth)/sign-up/page.tsx

  Read-only dependency:
  - lib/api/query-keys.ts (from foundation branch). Do not modify it.

  Requirements:
  1. useAuth must use TanStack Query mutation patterns cleanly.
  2. On successful auth transitions, update/invalidate only relevant auth keys.
  3. On sign-out (or auth identity change), clear sensitive cached queries safely.
  4. Sign-in/sign-up pages must handle loading, error, and success states explicitly.
  5. Add safe callback/redirect handling (internal paths only, no open redirect).

  Quality bar:
  - No duplicate local server-state copies.
  - No ad-hoc query keys.
  - Clean UI-state vs server-state separation.

  Validation:
  - npm run lint
  - npx tsc --noEmit

  Output format:
  1. Changed files list
  2. Auth flow behavior before vs after
  3. Validation results
  4. Risks/open questions

  ### 3) Result Agent Prompt

  You are working in: F:\study_material\codes\__Mega_Project\01FrontEnd
  Task: Refactor result retrieval/submission flow with TanStack correctness.
  Important: Client-side API only.

  Branch:
  refactor/agent-result

  You may edit only:
  - lib/api/hooks/useTestResult.ts
  - lib/api/hooks/useSubmitTest.ts
  - app/result/[...id]/page.tsx
  - components/common/query-error.tsx
  - components/common/empty-state.tsx

  Read-only dependency:
  - lib/api/query-keys.ts
  - lib/api/transformers/result.transformer.ts

  Requirements:
  1. Add/clean result query and submit mutation hooks with proper query keys.
  2. Use `enabled`, `select`, `staleTime`, `gcTime` intentionally.
  3. Implement precise invalidation after submission (no broad over-invalidation).
  4. Result page must rely on transformed data model and explicit loading/error/empty states.
  5. Remove inline transformations and implicit `any` behavior.

  Quality bar:
  - No query key fragmentation.
  - No mutation side effects hidden in page components.
  - Predictable render/data flow.

  Validation:
  - npm run lint
  - npx tsc --noEmit

  Output format:
  1. Changed files list
  2. Data-flow changes
  3. Validation results
  4. Risks/open questions

  ### 4) Test Runtime Agent Prompt

  You are working in: F:\study_material\codes\__Mega_Project\01FrontEnd
  Task: Decompose test runtime page into scalable hooks/components.
  Important: Keep behavior parity. Client-side API only.

  Branch:
  refactor/agent-test

  You may edit only:
  - app/test/[...id]/page.tsx
  - components/test/test-interface.tsx
  - hooks/use-test-engine.ts
  - hooks/use-proctoring.ts
  - components/test/section-info-bar.tsx
  - components/test/test-footer.tsx
  - components/test/section-change-dialog.tsx
  - components/test/submit-confirm-dialog.tsx

  Read-only dependency:
  - lib/api/query-keys.ts
  - lib/api/transformers/test.transformer.ts

  Requirements:
  1. Extract test orchestration logic to `use-test-engine`.
  2. Extract proctoring/tab-visibility/fullscreen logic to `use-proctoring`.
  3. Break large test UI into reusable components listed above.
  4. Keep data fetching/mutation orchestration at container level.
  5. Ensure submit path includes metadata for manual vs auto submit reasons.

  Quality bar:
  - No giant monolith component.
  - Minimal prop complexity.
  - No new cross-module coupling.

  Validation:
  - npm run lint
  - npx tsc --noEmit

  Output format:
  3. Validation results
  4. Risks/open questions

  ### 5) Junior College Agent Prompt

  You are working in: F:\study_material\codes\__Mega_Project\01FrontEnd
  Task: Stabilize junior-college test pages with shared flow and clean API usage.
  Important: Client-side API only.

  Branch:
  refactor/agent-jc

  You may edit only:
  - app/test/junior-college/cet/page.tsx
  - app/test/junior-college/custom/page.tsx
  - lib/api/hooks/useCreateTest.ts
  - lib/api/hooks/useCetTopics.ts
  - one shared helper file under app/test/junior-college/ (create if needed)

  Read-only dependency:
  - lib/api/query-keys.ts

  Requirements:
  1. Unify test-id extraction/navigation behavior across CET and custom pages.
  2. Ensure both pages use consistent loading/error/empty handling.
  3. Align hooks to query key factory and targeted invalidation strategy.
  4. Remove duplicated flow logic between CET/custom pages via shared helper.

  Quality bar:
  - No duplicated route/parsing logic.
  - No ad-hoc query keys.
  - Predictable state transitions.

  Validation:
  - npm run lint
  - npx tsc --noEmit

  Output format:
  1. Changed files list
  2. What was unified
  3. Validation results
  4. Risks/open questions

  